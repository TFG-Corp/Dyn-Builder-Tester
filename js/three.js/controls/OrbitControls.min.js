THREE.OrbitControls=function(e,t){this.object=e;this.domElement=t!==undefined?t:document;this.enabled=true;this.target=new THREE.Vector3;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=false;this.dampingFactor=.25;this.enableZoom=true;this.zoomSpeed=1;this.enableRotate=true;this.rotateSpeed=1;this.enablePan=true;this.panSpeed=1;this.screenSpacePanning=false;this.keyPanSpeed=7;this.autoRotate=false;this.autoRotateSpeed=2;this.enableKeys=true;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={LEFT:THREE.MOUSE.LEFT,MIDDLE:THREE.MOUSE.MIDDLE,RIGHT:THREE.MOUSE.RIGHT};this.target0=this.target.clone();this.position0=this.object.position.clone();this.zoom0=this.object.zoom;this.getPolarAngle=function(){return l.phi};this.getAzimuthalAngle=function(){return l.theta};this.saveState=function(){n.target0.copy(n.target);n.position0.copy(n.object.position);n.zoom0=n.object.zoom};this.reset=function(){n.target.copy(n.target0);n.object.position.copy(n.position0);n.object.zoom=n.zoom0;n.object.updateProjectionMatrix();n.dispatchEvent(a);n.update();s=i.NONE};this.update=function(){var t=new THREE.Vector3;var o=(new THREE.Quaternion).setFromUnitVectors(e.up,new THREE.Vector3(0,1,0));var r=o.clone().inverse();var f=new THREE.Vector3;var h=new THREE.Quaternion;return function e(){var E=n.object.position;t.copy(E).sub(n.target);t.applyQuaternion(o);l.setFromVector3(t);if(n.autoRotate&&s===i.NONE){w(O())}l.theta+=u.theta;l.phi+=u.phi;l.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,l.theta));l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi));l.makeSafe();l.radius*=m;l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius));n.target.add(d);t.setFromSpherical(l);t.applyQuaternion(r);E.copy(n.target).add(t);n.object.lookAt(n.target);if(n.enableDamping===true){u.theta*=1-n.dampingFactor;u.phi*=1-n.dampingFactor;d.multiplyScalar(1-n.dampingFactor)}else{u.set(0,0,0);d.set(0,0,0)}m=1;if(p||f.distanceToSquared(n.object.position)>c||8*(1-h.dot(n.object.quaternion))>c){n.dispatchEvent(a);f.copy(n.object.position);h.copy(n.object.quaternion);p=false;return true}return false}}();this.dispose=function(){n.domElement.removeEventListener("contextmenu",ee,false);n.domElement.removeEventListener("mousedown",_,false);n.domElement.removeEventListener("wheel",q,false);n.domElement.removeEventListener("touchstart",W,false);n.domElement.removeEventListener("touchend",$,false);n.domElement.removeEventListener("touchmove",J,false);document.removeEventListener("mousemove",G,false);document.removeEventListener("mouseup",B,false);window.removeEventListener("keydown",Q,false)};var n=this;var a={type:"change"};var o={type:"start"};var r={type:"end"};var i={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY_PAN:4};var s=i.NONE;var c=1e-6;var l=new THREE.Spherical;var u=new THREE.Spherical;var m=1;var d=new THREE.Vector3;var p=false;var f=new THREE.Vector2;var h=new THREE.Vector2;var E=new THREE.Vector2;var b=new THREE.Vector2;var v=new THREE.Vector2;var g=new THREE.Vector2;var y=new THREE.Vector2;var T=new THREE.Vector2;var R=new THREE.Vector2;function O(){return 2*Math.PI/60/60*n.autoRotateSpeed}function H(){return Math.pow(.95,n.zoomSpeed)}function w(e){u.theta-=e}function P(e){u.phi-=e}var j=function(){var e=new THREE.Vector3;return function t(n,a){e.setFromMatrixColumn(a,0);e.multiplyScalar(-n);d.add(e)}}();var L=function(){var e=new THREE.Vector3;return function t(a,o){if(n.screenSpacePanning===true){e.setFromMatrixColumn(o,1)}else{e.setFromMatrixColumn(o,0);e.crossVectors(n.object.up,e)}e.multiplyScalar(a);d.add(e)}}();var M=function(){var e=new THREE.Vector3;return function t(a,o){var r=n.domElement===document?n.domElement.body:n.domElement;if(n.object.isPerspectiveCamera){var i=n.object.position;e.copy(i).sub(n.target);var s=e.length();s*=Math.tan(n.object.fov/2*Math.PI/180);j(2*a*s/r.clientHeight,n.object.matrix);L(2*o*s/r.clientHeight,n.object.matrix)}else if(n.object.isOrthographicCamera){j(a*(n.object.right-n.object.left)/n.object.zoom/r.clientWidth,n.object.matrix);L(o*(n.object.top-n.object.bottom)/n.object.zoom/r.clientHeight,n.object.matrix)}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.");n.enablePan=false}}}();function C(e){if(n.object.isPerspectiveCamera){m/=e}else if(n.object.isOrthographicCamera){n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e));n.object.updateProjectionMatrix();p=true}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");n.enableZoom=false}}function N(e){if(n.object.isPerspectiveCamera){m*=e}else if(n.object.isOrthographicCamera){n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e));n.object.updateProjectionMatrix();p=true}else{console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.");n.enableZoom=false}}function S(e){f.set(e.clientX,e.clientY)}function A(e){y.set(e.clientX,e.clientY)}function D(e){b.set(e.clientX,e.clientY)}function k(e){h.set(e.clientX,e.clientY);E.subVectors(h,f).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;w(2*Math.PI*E.x/t.clientHeight);P(2*Math.PI*E.y/t.clientHeight);f.copy(h);n.update()}function x(e){T.set(e.clientX,e.clientY);R.subVectors(T,y);if(R.y>0){C(H())}else if(R.y<0){N(H())}y.copy(T);n.update()}function V(e){v.set(e.clientX,e.clientY);g.subVectors(v,b).multiplyScalar(n.panSpeed);M(g.x,g.y);b.copy(v);n.update()}function U(e){}function Y(e){if(e.deltaY<0){N(H())}else if(e.deltaY>0){C(H())}n.update()}function Z(e){var t=false;switch(e.keyCode){case n.keys.UP:M(0,n.keyPanSpeed);t=true;break;case n.keys.BOTTOM:M(0,-n.keyPanSpeed);t=true;break;case n.keys.LEFT:M(n.keyPanSpeed,0);t=true;break;case n.keys.RIGHT:M(-n.keyPanSpeed,0);t=true;break}if(t){e.preventDefault();n.update()}}function z(e){f.set(e.touches[0].pageX,e.touches[0].pageY)}function F(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX;var a=e.touches[0].pageY-e.touches[1].pageY;var o=Math.sqrt(t*t+a*a);y.set(0,o)}if(n.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX);var i=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(r,i)}}function I(e){h.set(e.touches[0].pageX,e.touches[0].pageY);E.subVectors(h,f).multiplyScalar(n.rotateSpeed);var t=n.domElement===document?n.domElement.body:n.domElement;w(2*Math.PI*E.x/t.clientHeight);P(2*Math.PI*E.y/t.clientHeight);f.copy(h);n.update()}function X(e){if(n.enableZoom){var t=e.touches[0].pageX-e.touches[1].pageX;var a=e.touches[0].pageY-e.touches[1].pageY;var o=Math.sqrt(t*t+a*a);T.set(0,o);R.set(0,Math.pow(T.y/y.y,n.zoomSpeed));C(R.y);y.copy(T)}if(n.enablePan){var r=.5*(e.touches[0].pageX+e.touches[1].pageX);var i=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(r,i);g.subVectors(v,b).multiplyScalar(n.panSpeed);M(g.x,g.y);b.copy(v)}n.update()}function K(e){}function _(e){if(n.enabled===false)return;e.preventDefault();n.domElement.focus?n.domElement.focus():window.focus();switch(e.button){case n.mouseButtons.LEFT:if(e.ctrlKey||e.metaKey||e.shiftKey){if(n.enablePan===false)return;D(e);s=i.PAN}else{if(n.enableRotate===false)return;S(e);s=i.ROTATE}break;case n.mouseButtons.MIDDLE:if(n.enableZoom===false)return;A(e);s=i.DOLLY;break;case n.mouseButtons.RIGHT:if(n.enablePan===false)return;D(e);s=i.PAN;break}if(s!==i.NONE){document.addEventListener("mousemove",G,false);document.addEventListener("mouseup",B,false);n.dispatchEvent(o)}}function G(e){if(n.enabled===false)return;e.preventDefault();switch(s){case i.ROTATE:if(n.enableRotate===false)return;k(e);break;case i.DOLLY:if(n.enableZoom===false)return;x(e);break;case i.PAN:if(n.enablePan===false)return;V(e);break}}function B(e){if(n.enabled===false)return;U(e);document.removeEventListener("mousemove",G,false);document.removeEventListener("mouseup",B,false);n.dispatchEvent(r);s=i.NONE}function q(e){if(n.enabled===false||n.enableZoom===false||s!==i.NONE&&s!==i.ROTATE)return;e.preventDefault();e.stopPropagation();n.dispatchEvent(o);Y(e);n.dispatchEvent(r)}function Q(e){if(n.enabled===false||n.enableKeys===false||n.enablePan===false)return;Z(e)}function W(e){if(n.enabled===false)return;e.preventDefault();switch(e.touches.length){case 1:if(n.enableRotate===false)return;z(e);s=i.TOUCH_ROTATE;break;case 2:if(n.enableZoom===false&&n.enablePan===false)return;F(e);s=i.TOUCH_DOLLY_PAN;break;default:s=i.NONE}if(s!==i.NONE){n.dispatchEvent(o)}}function J(e){if(n.enabled===false)return;e.preventDefault();e.stopPropagation();switch(e.touches.length){case 1:if(n.enableRotate===false)return;if(s!==i.TOUCH_ROTATE)return;I(e);break;case 2:if(n.enableZoom===false&&n.enablePan===false)return;if(s!==i.TOUCH_DOLLY_PAN)return;X(e);break;default:s=i.NONE}}function $(e){if(n.enabled===false)return;K(e);n.dispatchEvent(r);s=i.NONE}function ee(e){if(n.enabled===false)return;e.preventDefault()}n.domElement.addEventListener("contextmenu",ee,false);n.domElement.addEventListener("mousedown",_,false);n.domElement.addEventListener("wheel",q,false);n.domElement.addEventListener("touchstart",W,false);n.domElement.addEventListener("touchend",$,false);n.domElement.addEventListener("touchmove",J,false);window.addEventListener("keydown",Q,false);this.update()};THREE.OrbitControls.prototype=Object.create(THREE.EventDispatcher.prototype);THREE.OrbitControls.prototype.constructor=THREE.OrbitControls;Object.defineProperties(THREE.OrbitControls.prototype,{center:{get:function(){console.warn("THREE.OrbitControls: .center has been renamed to .target");return this.target}},noZoom:{get:function(){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");return!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.");this.enableZoom=!e}},noRotate:{get:function(){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");return!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.");this.enableRotate=!e}},noPan:{get:function(){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");return!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.");this.enablePan=!e}},noKeys:{get:function(){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");return!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.");this.enableKeys=!e}},staticMoving:{get:function(){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");return!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.");this.enableDamping=!e}},dynamicDampingFactor:{get:function(){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");return this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.");this.dampingFactor=e}}});
//# sourceMappingURL=OrbitControls.min.js.map