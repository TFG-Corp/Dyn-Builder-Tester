{"version":3,"sources":["ColladaExporter.js"],"names":["THREE","ColladaExporter","prototype","constructor","parse","object","onDone","options","Object","assign","version","author","textureDirectory","replace","console","warn","format","urdf","IS_END_TAG","IS_SELF_CLOSING","HAS_TEXT","pad","ch","num","tagnum","match","map","tag","test","res","join","base64ToBuffer","str","b","atob","buf","Uint8Array","length","i","l","charCodeAt","canvas","ctx","imageToData","image","ext","document","createElement","getContext","width","naturalWidth","height","naturalHeight","drawImage","base64data","toDataURL","getFuncs","attrBufferToArray","attr","isInterleavedBufferAttribute","arr","array","count","itemSize","size","j","subArray","st","ct","Array","isArray","slice","buffer","BYTES_PER_ELEMENT","getAttribute","name","params","type","Math","floor","n","transMat","getTransform","o","updateMatrix","Matrix4","copy","matrix","transpose","toArray","processGeometry","g","info","geometryInfo","get","bufferGeometry","Geometry","BufferGeometry","fromGeometry","meshid","libraryGeometries","indexCount","index","attributes","position","groups","start","materialIndex","gnode","posName","vertName","triangleInputs","normName","normal","uvName","uv","colName","color","indexArray","group","subarr","polycount","push","set","processTexture","tex","texid","imageMap","libraryImages","imageNode","textures","directory","data","original","processMaterial","m","matid","materialMap","libraryEffects","MeshLambertMaterial","MeshBasicMaterial","emissive","Color","diffuse","specular","shininess","reflectivity","transparencyNode","transparent","opacity","techniqueNode","emissiveMap","r","specularMap","effectnode","side","DoubleSide","libraryMaterials","processObject","node","Mesh","geometry","geomInfo","matids","matidsArray","mat","material","materials","fill","v","id","children","forEach","c","WeakMap","libraryVisualScenes","specLink","dae","Date","toISOString","requestAnimationFrame"],"mappings":"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"}